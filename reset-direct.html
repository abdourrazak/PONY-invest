<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©initialisation Directe - AXML</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 600px;
            width: 100%;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: 700;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            color: #856404;
        }
        .warning h3 {
            margin: 0 0 10px 0;
            color: #d63031;
        }
        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #e17055 0%, #d63031 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .status {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-weight: 600;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÑ R√©initialisation Directe</h1>
        
        <div class="warning">
            <h3>‚ö†Ô∏è SOLUTION DIRECTE</h3>
            <p>L'outil pr√©c√©dent ne fonctionne pas car le localStorage est isol√© par domaine.</p>
            <p><strong>Cette page doit √™tre ouverte depuis votre site web directement.</strong></p>
        </div>

        <p><strong>üìã Instructions :</strong></p>
        <ol>
            <li>Copiez le code JavaScript ci-dessous</li>
            <li>Allez sur votre site : <strong>https://axml-global.vercel.app</strong></li>
            <li>Ouvrez la console du navigateur (Cmd+Option+I ou clic droit ‚Üí Inspecter ‚Üí Console)</li>
            <li>Collez et ex√©cutez le code</li>
        </ol>

        <div class="code-block">
// SCRIPT DE R√âINITIALISATION DIRECTE
console.log('üîÑ D√©but de la r√©initialisation...');

// Trouver toutes les cl√©s localStorage li√©es aux utilisateurs
const keysToRemove = [];
for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    if (key && (key.includes('userFunds_') || key.includes('referralRewards_') || 
               key.includes('rewardHistory_') || key.includes('forfaitsVipActifs_') ||
               key.includes('gainsHoraire_') || key.includes('totalDepense_'))) {
        keysToRemove.push(key);
    }
}

console.log(`üóëÔ∏è ${keysToRemove.length} cl√©s trouv√©es √† supprimer:`, keysToRemove);

// Supprimer toutes les cl√©s
keysToRemove.forEach(key => {
    localStorage.removeItem(key);
    console.log(`‚ùå Supprim√©: ${key}`);
});

// R√©initialiser pour tous les utilisateurs connus
// Remplacez les num√©ros par vos vrais utilisateurs
const userPhones = ['693123456', '690987654']; // AJOUTEZ VOS NUM√âROS ICI

userPhones.forEach(phone => {
    localStorage.setItem(`userFunds_${phone}`, '1000');
    localStorage.setItem(`referralRewards_${phone}`, '0');
    localStorage.setItem(`rewardHistory_${phone}`, '[]');
    localStorage.setItem(`forfaitsVipActifs_${phone}`, '0');
    localStorage.setItem(`gainsHoraire_${phone}`, '0');
    localStorage.setItem(`totalDepense_${phone}`, '0');
    console.log(`‚úÖ R√©initialis√©: ${phone} -> 1000 XOF`);
});

console.log('‚úÖ R√©initialisation termin√©e ! Actualisez la page (Cmd+R)');
alert('‚úÖ R√©initialisation termin√©e ! Actualisez la page (Cmd+R)');
        </div>

        <button onclick="copyCode()">üìã Copier le Code</button>
        <button onclick="window.open('https://axml-global.vercel.app', '_blank')" style="background: linear-gradient(135deg, #00b894 0%, #00a085 100%);">
            üåê Ouvrir le Site
        </button>

        <div id="status"></div>
    </div>

    <script>
        function copyCode() {
            const code = `// SCRIPT DE R√âINITIALISATION DIRECTE
console.log('üîÑ D√©but de la r√©initialisation...');

// Trouver toutes les cl√©s localStorage li√©es aux utilisateurs
const keysToRemove = [];
for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    if (key && (key.includes('userFunds_') || key.includes('referralRewards_') || 
               key.includes('rewardHistory_') || key.includes('forfaitsVipActifs_') ||
               key.includes('gainsHoraire_') || key.includes('totalDepense_'))) {
        keysToRemove.push(key);
    }
}

console.log(\`üóëÔ∏è \${keysToRemove.length} cl√©s trouv√©es √† supprimer:\`, keysToRemove);

// Supprimer toutes les cl√©s
keysToRemove.forEach(key => {
    localStorage.removeItem(key);
    console.log(\`‚ùå Supprim√©: \${key}\`);
});

// R√©initialiser pour tous les utilisateurs connus
// Remplacez les num√©ros par vos vrais utilisateurs
const userPhones = ['693123456', '690987654']; // AJOUTEZ VOS NUM√âROS ICI

userPhones.forEach(phone => {
    localStorage.setItem(\`userFunds_\${phone}\`, '1000');
    localStorage.setItem(\`referralRewards_\${phone}\`, '0');
    localStorage.setItem(\`rewardHistory_\${phone}\`, '[]');
    localStorage.setItem(\`forfaitsVipActifs_\${phone}\`, '0');
    localStorage.setItem(\`gainsHoraire_\${phone}\`, '0');
    localStorage.setItem(\`totalDepense_\${phone}\`, '0');
    console.log(\`‚úÖ R√©initialis√©: \${phone} -> 1000 XOF\`);
});

console.log('‚úÖ R√©initialisation termin√©e ! Actualisez la page (Cmd+R)');
alert('‚úÖ R√©initialisation termin√©e ! Actualisez la page (Cmd+R)');`;

            navigator.clipboard.writeText(code).then(() => {
                document.getElementById('status').innerHTML = '<div class="success">üìã Code copi√© ! Maintenant allez sur votre site et ouvrez la console (Cmd+Option+I)</div>';
            }).catch(() => {
                document.getElementById('status').innerHTML = '<div class="error">‚ùå Erreur de copie. S√©lectionnez et copiez manuellement le code ci-dessus.</div>';
            });
        }
    </script>
</body>
</html>
